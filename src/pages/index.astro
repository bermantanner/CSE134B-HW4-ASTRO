---
import BaseLayout from "../layouts/BaseLayout.astro";
import PostCard from "../components/PostCard.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("posts");
---

<BaseLayout title="My Astro Blog">
  <h1>BLOG POSTS</h1>

  {posts.map(post => (
    <PostCard
      title={post.data.title}
      date={post.data.date}
      description={post.data.description}
      slug={post.slug}
    />
  ))}
</BaseLayout>
